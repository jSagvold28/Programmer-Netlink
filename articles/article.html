<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon.png" />
    <link rel="stylesheet" href="style.css">
    <title>Programmer Netlink - Articles</title>
</head>
<body>

  <div class="topnav">

    <!-- <a><p>Programmer Netlink</p></a> -->
    <a class="http://127.0.0.1:5500/account/signup-or-login/login/login.html">Programmer Netlink</a>
    <a class="active" href="http://127.0.0.1:5500/profile/profile.html">Profile</a>
    <a class="active" href="http://127.0.0.1:5500/profile/articles/display-articles.html">Your Articles</a>
    <a class="active" href="http://127.0.0.1:5500/account/signup-or-login/login/login.html">Log Out</a>
  </div>
  

    <button id="show-container">+</button>

    <div class="container">
      <form>
          <div class="article-forms">
            <label for="article-title"><h3>Title:</h3></label>
            <input type="text" id="article-title" name="article-title" minlength="10" maxlength="45" required placeholder=" Article Title Text Here">
            <br>
        
            <label for="article-body"><h3>Body:</h3></label>
            <textarea id="article-body" name="article-body" rows="4" minlength="45" maxlength="2500" required placeholder="Article Body Text Here"></textarea>
            <a id="video-link" href="" target="_blank"></a>
            <div id="video-container"></div>


            <div class="credits">
              <input type="text" id="credits" name="credits" placeholder=" Credit the soruces from this article, this is optional."> 
            </div>
            
            
          </div>

          <div class="assign-tag">
            <label for="tags">Tags:</label>
            <select id="tags" name="tags">
                <option>#uncategorized</option>
                <option>#ada</option>
                <option>#assembly</option>
                <option>#angular</option>
                <option>#bash</option>
                <option>#awk</option>
                <option>#c</option>
                <option>#c#</option>
                <option>#c++</option>
                <option>#clojure</option>
                <option>#cobol</option>
                <option>#coffeescript</option>
                <option>#commonlisp</option>
                <option>#crystal</option>
                <option>#css</option>
                <option>#dart</option>
                <option>#elixir</option>
                <option>#elm</option>
                <option>#erlang</option>
                <option>#fortran</option>
                <option>#go</option>
                <option>#groovy</option>
                <option>#haskell</option>
                <option>#html</option>
                <option>#java</option>
                <option>#javascript</option>
                <option>#julia</option>
                <option>#kotlin</option>
                <option>#lua</option>
                <option>#matlab</option>
                <option>#objectivec</option>
                <option>#ocaml</option>
                <option>#pascal</option>
                <option>#perl</option>
                <option>#php</option>
                <option>#python</option>
                <option>#r</option>
                <option>#react</option>
                <option>#reactnative</option>
                <option>#ruby</option>
                <option>#rust</option>
                <option>#scala</option>
                <option>#scheme</option>
                <option>#sql</option>
                <option>#swift</option>
                <option>#typescript</option>
            </select>
        </div>
        
          <br>
    
        <div class="addons">
          <img src="/articles/img/hastag.png" type="button" onclick="showAddTagsDiv()" alt="Add Tag to article" width="35" height="35"/>
          <img src="/articles/img/link.png" type="button" onclick="createLink()" alt="Add Link" width="35" height="35"/>
          <img src="/articles/img/video.png" type="button" onclick="loadVideo()" alt="add video" width="35" height="35">
          <img src="/articles/img/quote-2.png" onclick="showCredits()" width="35" height="35">
        </div>
    

        <div class="toggler">
          <label for="toggle">
            <input type="checkbox" id="toggle">
            Remove from drafts
          </label>
        </div>
        <br>
        <input type="submit" value="SHARE" disabled><P></P>
      </form>
    </div>
    
    <script>
function createLink() {
  var link;
  do {
    link = prompt("Enter the URL for the link (format: https://example.com/):", "https://example.com/");
    if (link != null) {
      if (link.startsWith("https://") && link.endsWith("/")) {
        var body = document.getElementById("article-body");
        var newLink = "<a href='" + link + "' target='_blank'>" + link + "</a>";
        body.insertAdjacentHTML('beforeend', newLink);

        // add event listener to newly created link
        var links = body.getElementsByTagName("a");
        var newLinkElement = links[links.length - 1]; // get last link element
        newLinkElement.addEventListener("click", function(event) {
          event.preventDefault(); // prevent default link behavior
          window.open(newLinkElement.href, '_blank'); // open link in new tab
        });
      } else {
        alert("ERR: Invalid URL format. Please enter a URL in the format: https://example.com/");
        console.log('ERR: Invalid URl formatting. User must input a valid url in the format of: https://exampleurl.com/')
      }
    }
  } while (link != null && (!link.startsWith("https://") || !link.endsWith("/")));
}

    
      const toggle = document.querySelector('#toggle');
      const submitBtn = document.querySelector('input[type="submit"]');
    
      toggle.addEventListener('change', () => {
        submitBtn.disabled = !toggle.checked;
      });
    </script>
    
    
    <div class="post-list-header">
      <h2><span id="name"></span></h2>
          
      <script>
        const storedUsername = localStorage.getItem('signup-name');
        const usernameElem = document.querySelector('#name');

        if (storedUsername) {
        usernameElem.textContent = `${storedUsername}'s Articles`;
        } else {
        usernameElem.textContent = 'No username found in local storage';

        }
      </script>
    </div>


    <div class="post-list">
        <div id="articles"></div>
      </div>
    </div>


    <div class="finished">
      <img src="/.app/img/undraw_astronaut_re_8c33.svg" alt="finished img">
      <h3>You have reached the end of the Articles made by this person.</h3>

    </div>
  </div> 
    
</body>
<script src="script.js"></script>
</html>
